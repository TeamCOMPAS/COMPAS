

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Random seed &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running COMPAS from the command line" href="running-via-cmdline.html" />
    <link rel="prev" title="Grid files" href="grid-files.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="user-guide.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="program-options.html">Program options</a></li>
<li class="toctree-l2"><a class="reference internal" href="grid-files.html">Grid files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Random seed</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-via-cmdline.html">Running COMPAS from the command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-via-python.html">Running COMPAS via Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-via-docker.html">Running COMPAS via Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">COMPAS Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="post-processing.html">Post-processing tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-compas-run.html">Tutorial: simple COMPAS run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="user-guide.html">User guide</a> &raquo;</li>
        
      <li>Random seed</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="random-seed">
<h1>Random seed<a class="headerlink" href="#random-seed" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option allows users to specify the initial value to be used to seed the pseudo-random number generator. Once set, the
random seed values increments from its initial value for each star, or binary star, evolved. How the random seed increments depends upon the
context.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option can be specified on either, or both, the command line and a <a class="reference internal" href="grid-files.html"><span class="doc">grid file</span></a> line. If the option
is not specified on one or the other, the default value is used (see <a class="reference internal" href="program-options-list-defaults.html"><span class="doc">Program option list and default values</span></a>).</p>
<p>In general, if the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option is specified, the pseudo-random number generator will be seeded using the specified value for
the first star, or binary star, evolved, then for each subsequent star or binary star, the seed value will be incremented by one and the
pseudo-random number generator re-seeded. Seeding the pseudo-random number generator with a known seed for each star, or binary star,
evolved ensures that the evolution of specific stars, or binary stars, can be reproduced.</p>
<p>Consider a single execution of COMPAS effected with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">COMPAS</span> <span class="o">--</span><span class="n">random</span><span class="o">-</span><span class="n">seed</span> <span class="mi">15</span> <span class="o">--</span><span class="n">number</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">systems</span> <span class="mi">100</span> <span class="o">--</span><span class="n">metallicity</span> <span class="mf">0.015</span>
</pre></div>
</div>
<p>This would evolve 100 binary stars, each with <cite>metallicity = 0.015</cite>, and other initial attributes set to their defaults. The first of the
100 binary stars will be evolved using the random seed 15, the second 16, the third 17, and so on - each binary star will evolve using
a unique random seed.</p>
<p>In the example shown above (see Section <a class="reference internal" href="program-options-mixing-ranges-sets.html"><span class="doc">Mixing ranges and sets</span></a>), all 104 binary stars would evolve with unique random seed values,
ranging from 0 (the default, since the option was not specified on either the command line or in the grid file), to 103.</p>
<p>In both these examples, the random seed was incremented in the context of the command line. In the first example, the random seed was
explicitly specified on the command line, and in the second example the random seed defaulted to the command line default.</p>
<p>Consider now a single execution of COMPAS, using the grid file <code class="docutils literal notranslate"><span class="pre">mygrid.txt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">COMPAS</span> <span class="o">--</span><span class="n">random</span><span class="o">-</span><span class="n">seed</span> <span class="mi">12</span> <span class="o">--</span><span class="n">grid</span> <span class="n">mygrid</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>where the contents of the grid file <code class="docutils literal notranslate"><span class="pre">mygrid.txt</span></code> are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">rlof</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">birth</span> <span class="n">true</span> <span class="o">--</span><span class="n">metallicity</span> <span class="mf">0.1</span>
<span class="o">--</span><span class="n">semi</span><span class="o">-</span><span class="n">major</span><span class="o">-</span><span class="n">axis</span> <span class="mf">23.4</span> <span class="o">--</span><span class="n">random</span><span class="o">-</span><span class="n">seed</span> <span class="mi">107</span>
<span class="o">--</span><span class="n">random</span><span class="o">-</span><span class="n">seed</span> <span class="mi">63</span> <span class="o">--</span><span class="n">metallicity</span> <span class="mf">0.12</span> <span class="o">--</span><span class="n">eccentricity</span> <span class="n">s</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.4</span><span class="p">]</span>
<span class="o">--</span><span class="n">initial</span><span class="o">-</span><span class="n">mass</span><span class="o">-</span><span class="mi">1</span> <span class="mf">12.3</span>
</pre></div>
</div>
<p>This would evolve 7 binary stars with random seed values 12, 107, 63, 64, 65, 66, and 18.</p>
<p>The first binary star evolved is the first line of the grid file. This line does not specify the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option, so the random seed
defaults to the command line value. The command line did specify a value for the random seed (12), so that value is used. Since the first
line of the grid file is the first binary star evolved, the random seed is not incremented, and the value of 12 is used.</p>
<p>The second binary star evolved is the second line of the grid file. This line does specify the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option. Since this is the
first binary star evolved in the context of the random seed specified on the grid file line, the random seed is not incremented, and the value
of 107 is used.</p>
<p>The third binary star evolved is the third line of the grid file. This line does specify the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option. Since this is the first
binary star evolved in the context of the random seed specified on the grid file line, the random seed is not incremented, and the value of 63
is used.</p>
<p>The fourth, fifth, and sixth binary stars evolved are also from the third line of the grid file - a set of four values for eccentricity was
specified. Since these are subsequent to the first binary star evolved in the context of the random seed specified on the grid file line, the
random seed is incremented, and the values of 64, 65, and 66 are used.</p>
<p>The seventh binary star evolved is the fourth line of the grid file. This line does not specify the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option, so the random
seed defaults to the command line value. The command line did specify a value for the random seed (12), so that value is used, but since this
binary star is subsequent to the first binary star evolved in the context of the random seed specified on the command line, the random seed is
incremented. This is the sixth subsequent binary star evolved in the context of the command line (all stars, or binary stars, evolved in a
single execution of COMPAS are evolved in the context of the command line), so the random seed is incremented from 12 to 18 (by 1 for each
binary star evolved), and the value used for this binary star is 18.</p>
<p>Note that in this example, all binary stars were evolved using a unique random seed. This is because the values specified for the random seeds
via the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option were ’well-behaved’. Unfortunately there is no reasonable way to protect the user against specifying duplicate
random seeds – especially since the random seed increments for each star or binary star. If the user chooses to specify multiple grid file lines
with the same random seed, or initial random seeds that would collide with other random seed values and cause duplicates as they increment
through ranges and sets, then there will be duplicate random seeds in the output files. Users should take care when specifying random seeds in
grid files via the <code class="docutils literal notranslate"><span class="pre">--random-seed</span></code> option.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="running-via-cmdline.html" class="btn btn-neutral float-right" title="Running COMPAS from the command line" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="grid-files.html" class="btn btn-neutral float-left" title="Grid files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>