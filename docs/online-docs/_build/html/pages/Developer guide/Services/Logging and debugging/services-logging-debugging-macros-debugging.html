

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Debugging macros &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Error handling service" href="../services-error-handling.html" />
    <link rel="prev" title="LOG_ID_IF() macro" href="Logging%20macros/services-logging-debugging-macros-log_id_if.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Getting%20started/getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../User%20guide/user-guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../developer-guide.html">Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../SSE/SSE.html">Single star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../BSE/BSE.html">Binary star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../object-ids.html">Object identifiers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../services.html">Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Program%20options/services-program-options.html">Program options service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Random%20numbers/services-random-numbers.html">Random numbers service</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="services-logging-debugging.html">Logging &amp; debugging service</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Base-level%20logging/services-base-level-logging.html">Base-level logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="services-extended-logging.html">Extended logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="Logging%20macros/services-logging-debugging-macros-logging.html">Logging macros</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Debugging macros</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../services-error-handling.html">Error handling service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../floating-point-comparisons.html">Floating-point comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../constants-dot-h.html">Constants source file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html">Change log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming%20style/programming-style.html">Programming style</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Developer%20build/developer-building-compas.html">COMPAS build methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../developer-guide.html">Developer guide</a> &raquo;</li>
        
          <li><a href="../services.html">Services</a> &raquo;</li>
        
          <li><a href="services-logging-debugging.html">Logging &amp; debugging service</a> &raquo;</li>
        
      <li>Debugging macros</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="debugging-macros">
<h1>Debugging macros<a class="headerlink" href="#debugging-macros" title="Permalink to this headline">¶</a></h1>
<p>A set of macros similar to the <a class="reference internal" href="Logging%20macros/services-logging-debugging-macros-logging.html"><span class="doc">logging macros</span></a> is also
provided for debugging purposes. These macros are analogous to their logging counterparts.</p>
<p>The debugging macros write directly to stdout rather than the log file, but their output can also be written to
the log file if desired (see the <code class="docutils literal notranslate"><span class="pre">p_DbgToFile</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">Log::Start()</span></code>, and the <code class="docutils literal notranslate"><span class="pre">--debug-to-file</span></code> program
option).</p>
<p>A major difference between the logging macros and the debugging macros is that the debugging macros can be defined
away. The debugging macro definitions are enclosed in an <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code> enclosure, and are only present in the source code
if <code class="docutils literal notranslate"><span class="pre">#DEBUG</span></code> is defined. This means that if <code class="docutils literal notranslate"><span class="pre">#DEBUG</span></code> is not defined (<code class="docutils literal notranslate"><span class="pre">#undef</span></code>), all debugging statements using
the debugging macros will be removed from the source code by the preprocessor before the source is compiled. Un-defining
<code class="docutils literal notranslate"><span class="pre">#DEBUG</span></code> not only prevents bloat of unused code in the executable, it improves performance. Many of the functions in
the code are called hundreds of thousands, if not millions, of times as the stellar evolution proceeds. Even if the
debugging classes and debugging level are set so that no debug statement is displayed, just checking the debugging level
every time a function is called increases the run time of the program. The suggested use is to enable the debugging
macros (<code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">DEBUG</span></code>) while developing new code, and disable them (<code class="docutils literal notranslate"><span class="pre">#undef</span> <span class="pre">DEBUG</span></code>) to produce a production version
of the executable.</p>
<p>The debugging macros provided are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DBG</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>              <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG</span><span class="p">()</span>
<span class="n">DBG_ID</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>           <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_ID</span><span class="p">()</span>
<span class="n">DBG_IF</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>     <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_IF</span><span class="p">()</span>
<span class="n">DBG_ID_IF</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_ID_IF</span><span class="p">()</span>
</pre></div>
</div>
<p>Two further debugging macros are provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DBG_WAIT</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">DBG_WAIT_IF</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DBG_WAIT</span></code> macros function in the same way as their non-wait counterparts (<code class="docutils literal notranslate"><span class="pre">DBG(...)</span></code> and <code class="docutils literal notranslate"><span class="pre">DBG_IF(cond,</span> <span class="pre">...)</span></code>),
with the added functionality that they will pause execution of the program and wait for user input before proceeding.</p>
<p>A set of macros for printing warning message is also provided. These are the <code class="docutils literal notranslate"><span class="pre">DBG_WARN</span></code> macros:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DBG_WARN</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>              <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG</span><span class="p">()</span>
<span class="n">DBG_WARN_ID</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>           <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_ID</span><span class="p">()</span>
<span class="n">DBG_WARN_IF</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>     <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_IF</span><span class="p">()</span>
<span class="n">DBG_WARN_ID_IF</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="o">//</span> <span class="n">analogous</span> <span class="n">to</span> <span class="n">LOG_ID_IF</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DBG_WARN</span></code> macros write to stdout via the <code class="docutils literal notranslate"><span class="pre">SAY</span></code> macro, so honour the logging classes and level, and are not written
to the debug or errors files.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">id</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">LOG</span></code> macros (to specify the logfileId) is not required for the <code class="docutils literal notranslate"><span class="pre">DBG</span></code> macros (the
filename to which debug records are written is declared in <code class="docutils literal notranslate"><span class="pre">constants.h</span></code> – see the enum class <code class="docutils literal notranslate"><span class="pre">LOGFILE</span></code> and associated
descriptor map <code class="docutils literal notranslate"><span class="pre">LOGFILE_DESCRIPTOR</span></code>).</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../services-error-handling.html" class="btn btn-neutral float-right" title="Error handling service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Logging%20macros/services-logging-debugging-macros-log_id_if.html" class="btn btn-neutral float-left" title="LOG_ID_IF() macro" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>